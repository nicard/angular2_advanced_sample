<h4 class="text-center">Register to embrace a new world</h4>

<form  #form="ngForm" [formGroup]="signupForm" class="form mt-4" (submit)="signup()">
  <div class="form-group">
    <input #email formControlName="email" class="form-control" placeholder="email" autofocus>
    <app-vmessage
      text="E-mail is require"
      *ngIf="signupForm.get('email').errors && signupForm.get('email').errors['required'] && (form.submitted || signupForm.get('email').touched)"
    ></app-vmessage>
    <app-vmessage
      text="E-mail is invalid"
      *ngIf="signupForm.get('email').errors && signupForm.get('email').errors['email']"
    ></app-vmessage>
  </div>
  <div class="form-group">
    <input formControlName="fullName" class="form-control" placeholder="full name">
    <app-vmessage
      text="Full name is require"
      *ngIf="signupForm.get('fullName').errors && signupForm.get('fullName').errors['required'] && (form.submitted || signupForm.get('fullName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Minimun length is 2"
      *ngIf="signupForm.get('fullName').errors && signupForm.get('fullName').errors['minlength'] && (form.submitted || signupForm.get('fullName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Maximun length is 40"
      *ngIf="signupForm.get('fullName').errors && signupForm.get('fullName').errors['maxlength'] && (form.submitted || signupForm.get('fullName').touched)"
    ></app-vmessage>
  </div>
  <div class="form-group">
    <input formControlName="userName" class="form-control" placeholder="user name">
    <app-vmessage
      text="User name is require"
      *ngIf="signupForm.get('userName').errors && signupForm.get('userName').errors['required'] && (form.submitted || signupForm.get('userName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Minimun length is 2"
      *ngIf="signupForm.get('userName').errors && signupForm.get('userName').errors['minlength'] && (form.submitted || signupForm.get('userName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Maximun length is 20"
      *ngIf="signupForm.get('userName').errors && signupForm.get('userName').errors['maxlength'] && (form.submitted || signupForm.get('userName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Must be lower case"
      *ngIf="signupForm.get('userName').errors && signupForm.get('userName').errors['lowercase'] && (form.submitted || signupForm.get('userName').touched)"
    ></app-vmessage>
    <app-vmessage
      text="User name already taken"
      *ngIf="signupForm.get('userName').errors && signupForm.get('userName').errors['userNameTaken']"
    ></app-vmessage>
    <span
      class="text-success"
      *ngIf="signupForm.get('userName').valid"
    >User is valid</span>
  </div>
  <div class="form-group">
    <input formControlName="password" type="password" class="form-control" placeholder="password">
    <app-vmessage
      text="User name is require"
      *ngIf="signupForm.get('password').errors && signupForm.get('password').errors['required'] && (form.submitted || signupForm.get('password').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Minimun length is 8"
      *ngIf="signupForm.get('password').errors && signupForm.get('password').errors['minlength'] && (form.submitted || signupForm.get('password').touched)"
    ></app-vmessage>
    <app-vmessage
      text="Maximun length is 14"
      *ngIf="signupForm.get('password').errors && signupForm.get('password').errors['maxlength'] && (form.submitted || signupForm.get('password').touched)"
    ></app-vmessage>
  </div>
  <button class="btn btn-primary btn-block">Register</button>

  <p>Already a user? <a [routerLink]="['/']">Sign in</a></p>
</form>
